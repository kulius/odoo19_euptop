<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- 薪資調整紀錄 List View -->
        <record id="view_sl_payroll_adjustment_list" model="ir.ui.view">
            <field name="name">sl.payroll.adjustment.list</field>
            <field name="model">sl.payroll.adjustment</field>
            <field name="arch" type="xml">
                <list string="薪資調整紀錄" editable="bottom">
                    <field name="payroll_allocation_date" />
                    <field name="salary_rule_id" />
                    <field name="employee_id" />
                    <field name="rule_category" />
                    <field name="amount" sum="金額" />
                    <field name="note" />
                    <field name="exec_status" readonly="1" />
                    <field name="company_id" column_invisible="1" />
                </list>
            </field>
        </record>

        <record id="view_form_sl_hr_payslip_sheet_inherit_payroll_adjustment" model="ir.ui.view">
            <field name="name">view.form.sl.hr.payslip.sheet.inherit.payroll.adjustment</field>
            <field name="model">sl.hr.payslip.sheet</field>
            <field name="inherit_id" ref="sl_hrm_payroll.view_form_sl_hr_payslip_sheet" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='actual_total_amount']" position="after">
                    <div style="white-space: nowrap;">
                        <button name="view_payroll_adjustment"
                            string="檢視薪資批次調整"
                            type="object"
                            class="btn-primary" />
                    </div>
                    <button name="payroll_adjustment"
                        style="white-space: nowrap;"
                        string="手動批次匯入"
                        type="object"
                        class="btn-primary" />
                </xpath>
            </field>
        </record>

        <!-- Action -->
        <record id="action_sl_payroll_adjustment" model="ir.actions.act_window">
            <field name="name">薪資調整紀錄</field>
            <field name="res_model">sl.payroll.adjustment</field>
            <field name="view_mode">list,form</field>
            <field name="context">{}</field>
            <field name="domain">[]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    建立薪資調整紀錄
                </p>
                <p> 在此可以針對特定員工新增薪資調整項目，如績效獎金、特殊津貼、扣款等。<br /> 調整項目會在薪資計算時自動套用到對應的薪資單中。<br /> 支援單筆新增或
                    Excel 批次匯入兩種方式。 </p>
            </field>
        </record>

    </data>
</odoo>